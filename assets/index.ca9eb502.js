var lt=Object.defineProperty;var ot=Object.getOwnPropertySymbols;var pt=Object.prototype.hasOwnProperty,mt=Object.prototype.propertyIsEnumerable;var at=(T,P,s)=>P in T?lt(T,P,{enumerable:!0,configurable:!0,writable:!0,value:s}):T[P]=s,it=(T,P)=>{for(var s in P||(P={}))pt.call(P,s)&&at(T,s,P[s]);if(ot)for(var s of ot(P))mt.call(P,s)&&at(T,s,P[s]);return T};import{_ as ct}from"./index.f2bb00b7.js";import{h as ut,n as st,C as ht,o as rt,g as nt,F as gt,k as dt,j as yt,r as vt,c as wt}from"./vendor.c3fc92a3.js";(function(T,P){typeof exports=="object"&&typeof module=="object"?module.exports=P():typeof define=="function"&&define.amd?define([],P):typeof exports=="object"?exports.FFmpeg=P():T.FFmpeg=P()})(self,function(){return T={497:(s,w,r)=>{r(72);var c=r(306).devDependencies;s.exports={corePath:"https://unpkg.com/@ffmpeg/core@".concat(c["@ffmpeg/core"].substring(1),"/dist/ffmpeg-core.js")}},663:(s,w,r)=>{function c(u,f,d,l,p,j,n){try{var F=u[j](n),b=F.value}catch(_){return void d(_)}F.done?f(b):Promise.resolve(b).then(l,p)}var y=r(72),h=function(u){return new Promise(function(f,d){var l=new FileReader;l.onload=function(){f(l.result)},l.onerror=function(p){var j=p.target.error.code;d(Error("File could not be read! Code=".concat(j)))},l.readAsArrayBuffer(u)})};s.exports=function(){var u,f=(u=regeneratorRuntime.mark(function d(l){var p,j;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(p=l,l!==void 0){n.next=3;break}return n.abrupt("return",new Uint8Array);case 3:if(typeof l!="string"){n.next=16;break}if(!/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(l)){n.next=8;break}p=atob(l.split(",")[1]).split("").map(function(F){return F.charCodeAt(0)}),n.next=14;break;case 8:return n.next=10,fetch(y(l));case 10:return j=n.sent,n.next=13,j.arrayBuffer();case 13:p=n.sent;case 14:n.next=20;break;case 16:if(!(l instanceof File||l instanceof Blob)){n.next=20;break}return n.next=19,h(l);case 19:p=n.sent;case 20:return n.abrupt("return",new Uint8Array(p));case 21:case"end":return n.stop()}},d)}),function(){var d=this,l=arguments;return new Promise(function(p,j){var n=u.apply(d,l);function F(_){c(n,p,j,F,b,"next",_)}function b(_){c(n,p,j,F,b,"throw",_)}F(void 0)})});return function(d){return f.apply(this,arguments)}}()},452:(s,w,r)=>{function c(l,p,j,n,F,b,_){try{var O=l[b](_),m=O.value}catch(Y){return void j(Y)}O.done?p(m):Promise.resolve(m).then(n,F)}function y(l){return function(){var p=this,j=arguments;return new Promise(function(n,F){var b=l.apply(p,j);function _(m){c(b,n,F,_,O,"next",m)}function O(m){c(b,n,F,_,O,"throw",m)}_(void 0)})}}var h=r(72),u=r(185).log,f=r(835).CREATE_FFMPEG_CORE_IS_NOT_DEFINED,d=function(){var l=y(regeneratorRuntime.mark(function p(j,n){var F,b,_;return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return u("info","fetch ".concat(j)),O.next=3,fetch(j);case 3:return O.next=5,O.sent.arrayBuffer();case 5:return F=O.sent,u("info","".concat(j," file size = ").concat(F.byteLength," bytes")),b=new Blob([F],{type:n}),_=URL.createObjectURL(b),u("info","".concat(j," blob URL = ").concat(_)),O.abrupt("return",_);case 11:case"end":return O.stop()}},p)}));return function(p,j){return l.apply(this,arguments)}}();s.exports=function(){var l=y(regeneratorRuntime.mark(function p(j){var n,F,b,_,O;return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(typeof(n=j.corePath)=="string"){m.next=3;break}throw Error("corePath should be a string!");case 3:return F=h(n),m.next=6,d(F,"application/javascript");case 6:return b=m.sent,m.next=9,d(F.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm");case 9:return _=m.sent,m.next=12,d(F.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");case 12:if(O=m.sent,typeof createFFmpegCore!="undefined"){m.next=15;break}return m.abrupt("return",new Promise(function(Y){var N=document.createElement("script");N.src=b,N.type="text/javascript",N.addEventListener("load",function G(){if(N.removeEventListener("load",G),typeof createFFmpegCore=="undefined")throw Error(f(F));u("info","ffmpeg-core.js script loaded"),Y({createFFmpegCore,corePath:b,wasmPath:_,workerPath:O})}),document.getElementsByTagName("head")[0].appendChild(N)}));case 15:return u("info","ffmpeg-core.js script is loaded already"),m.abrupt("return",Promise.resolve({createFFmpegCore,corePath:b,wasmPath:_,workerPath:O}));case 17:case"end":return m.stop()}},p)}));return function(p){return l.apply(this,arguments)}}()},698:(s,w,r)=>{var c=r(497),y=r(452),h=r(663);s.exports={defaultOptions:c,getCreateFFmpegCore:y,fetchFile:h}},500:s=>{s.exports={defaultArgs:["./ffmpeg","-nostdin","-y"],baseOptions:{log:!1,logger:function(){},progress:function(){},corePath:""}}},906:(s,w,r)=>{function c(v){return function(i){if(Array.isArray(i))return y(i)}(v)||function(i){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(i))return Array.from(i)}(v)||function(i,x){if(i){if(typeof i=="string")return y(i,x);var E=Object.prototype.toString.call(i).slice(8,-1);return E==="Object"&&i.constructor&&(E=i.constructor.name),E==="Map"||E==="Set"?Array.from(i):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?y(i,x):void 0}}(v)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function y(v,i){(i==null||i>v.length)&&(i=v.length);for(var x=0,E=new Array(i);x<i;x++)E[x]=v[x];return E}function h(v,i,x,E,B,M,k){try{var $=v[M](k),e=$.value}catch(t){return void x(t)}$.done?i(e):Promise.resolve(e).then(E,B)}function u(v){return function(){var i=this,x=arguments;return new Promise(function(E,B){var M=v.apply(i,x);function k(e){h(M,E,B,k,$,"next",e)}function $(e){h(M,E,B,k,$,"throw",e)}k(void 0)})}}function f(v,i){var x=Object.keys(v);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(v);i&&(E=E.filter(function(B){return Object.getOwnPropertyDescriptor(v,B).enumerable})),x.push.apply(x,E)}return x}function d(v){for(var i=1;i<arguments.length;i++){var x=arguments[i]!=null?arguments[i]:{};i%2?f(Object(x),!0).forEach(function(E){l(v,E,x[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(x)):f(Object(x)).forEach(function(E){Object.defineProperty(v,E,Object.getOwnPropertyDescriptor(x,E))})}return v}function l(v,i,x){return i in v?Object.defineProperty(v,i,{value:x,enumerable:!0,configurable:!0,writable:!0}):v[i]=x,v}function p(v,i){if(v==null)return{};var x,E,B=function(k,$){if(k==null)return{};var e,t,o={},g=Object.keys(k);for(t=0;t<g.length;t++)e=g[t],$.indexOf(e)>=0||(o[e]=k[e]);return o}(v,i);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(v);for(E=0;E<M.length;E++)x=M[E],i.indexOf(x)>=0||Object.prototype.propertyIsEnumerable.call(v,x)&&(B[x]=v[x])}return B}var j=r(500),n=j.defaultArgs,F=j.baseOptions,b=r(185),_=b.setLogging,O=b.setCustomLogger,m=b.log,Y=r(583),N=r(319),G=r(698),tt=G.defaultOptions,et=G.getCreateFFmpegCore,X=r(306).version,J=Error("ffmpeg.wasm is not ready, make sure you have completed load().");s.exports=function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=d(d(d({},F),tt),v),x=i.log,E=i.logger,B=i.progress,M=p(i,["log","logger","progress"]),k=null,$=null,e=null,t=!1,o=B,g=function(C){C==="FFMPEG_END"&&e!==null&&(e(),e=null,t=!1)},a=function(C){var D=C.type,S=C.message;m(D,S),Y(S,o),g(S)},A=function(){var C=u(regeneratorRuntime.mark(function D(){var S,U,K,Z,H;return regeneratorRuntime.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(m("info","load ffmpeg-core"),k!==null){V.next=17;break}return m("info","loading ffmpeg-core"),V.next=5,et(M);case 5:return S=V.sent,U=S.createFFmpegCore,K=S.corePath,Z=S.workerPath,H=S.wasmPath,V.next=12,U({mainScriptUrlOrBlob:K,printErr:function(Q){return a({type:"fferr",message:Q})},print:function(Q){return a({type:"ffout",message:Q})},locateFile:function(Q,ft){if(typeof window!="undefined"){if(H!==void 0&&Q.endsWith("ffmpeg-core.wasm"))return H;if(Z!==void 0&&Q.endsWith("ffmpeg-core.worker.js"))return Z}return ft+Q}});case 12:k=V.sent,$=k.cwrap("main","number",["number","number"]),m("info","ffmpeg-core loaded"),V.next=18;break;case 17:throw Error("ffmpeg.wasm was loaded, you should not load it again, use ffmpeg.isLoaded() to check next time.");case 18:case"end":return V.stop()}},D)}));return function(){return C.apply(this,arguments)}}(),R=function(){return k!==null},W=function(){for(var C=arguments.length,D=new Array(C),S=0;S<C;S++)D[S]=arguments[S];if(m("info","run ffmpeg command: ".concat(D.join(" "))),k===null)throw J;if(t)throw Error("ffmpeg.wasm can only run one command at a time");return t=!0,new Promise(function(U){var K=[].concat(c(n),D).filter(function(Z){return Z.length!==0});e=U,$.apply(void 0,c(N(k,K)))})},q=function(C){for(var D=arguments.length,S=new Array(D>1?D-1:0),U=1;U<D;U++)S[U-1]=arguments[U];if(m("info","run FS.".concat(C," ").concat(S.map(function(H){return typeof H=="string"?H:"<".concat(H.length," bytes binary file>")}).join(" "))),k===null)throw J;var K=null;try{var Z;K=(Z=k.FS)[C].apply(Z,S)}catch{throw Error(C==="readdir"?"ffmpeg.FS('readdir', '".concat(S[0],"') error. Check if the path exists, ex: ffmpeg.FS('readdir', '/')"):C==="readFile"?"ffmpeg.FS('readFile', '".concat(S[0],"') error. Check if the path exists"):"Oops, something went wrong in FS operation.")}return K},L=function(){if(k===null)throw J;t=!1,k.exit(1),k=null,$=null,e=null},I=function(C){o=C},z=function(C){O(C)};return _(x),O(E),m("info","use ffmpeg.wasm v".concat(X)),{setProgress:I,setLogger:z,setLogging:_,load:A,isLoaded:R,run:W,exit:L,FS:q}}},352:(s,w,r)=>{r(666);var c=r(906),y=r(698).fetchFile;s.exports={createFFmpeg:c,fetchFile:y}},835:s=>{s.exports={CREATE_FFMPEG_CORE_IS_NOT_DEFINED:function(w){return`
createFFmpegCore is not defined. ffmpeg.wasm is unable to find createFFmpegCore after loading ffmpeg-core.js from `.concat(w,`. Use another URL when calling createFFmpeg():

const ffmpeg = createFFmpeg({
  corePath: 'http://localhost:3000/ffmpeg-core.js',
});
`)}}},185:s=>{var w=!1,r=function(){};s.exports={logging:w,setLogging:function(c){w=c},setCustomLogger:function(c){r=c},log:function(c,y){r({type:c,message:y}),w&&console.log("[".concat(c,"] ").concat(y))}}},319:s=>{s.exports=function(w,r){var c=w._malloc(r.length*Uint32Array.BYTES_PER_ELEMENT);return r.forEach(function(y,h){var u=w._malloc(y.length+1);w.writeAsciiToMemory(y,u),w.setValue(c+Uint32Array.BYTES_PER_ELEMENT*h,u,"i32")}),[r.length,c]}},583:s=>{function w(h,u){(u==null||u>h.length)&&(u=h.length);for(var f=0,d=new Array(u);f<u;f++)d[f]=h[f];return d}var r=0,c=0,y=function(h){var u,f,d=(u=h.split(":"),f=3,function(n){if(Array.isArray(n))return n}(u)||function(n,F){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(n)){var b=[],_=!0,O=!1,m=void 0;try{for(var Y,N=n[Symbol.iterator]();!(_=(Y=N.next()).done)&&(b.push(Y.value),!F||b.length!==F);_=!0);}catch(G){O=!0,m=G}finally{try{_||N.return==null||N.return()}finally{if(O)throw m}}return b}}(u,f)||function(n,F){if(n){if(typeof n=="string")return w(n,F);var b=Object.prototype.toString.call(n).slice(8,-1);return b==="Object"&&n.constructor&&(b=n.constructor.name),b==="Map"||b==="Set"?Array.from(n):b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?w(n,F):void 0}}(u,f)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),l=d[0],p=d[1],j=d[2];return 60*parseFloat(l)*60+60*parseFloat(p)+parseFloat(j)};s.exports=function(h,u){if(typeof h=="string")if(h.startsWith("  Duration")){var f=h.split(", ")[0].split(": ")[1],d=y(f);u({duration:d,ratio:c}),(r===0||r>d)&&(r=d)}else if(h.startsWith("frame")||h.startsWith("size")){var l=h.split("time=")[1].split(" ")[0],p=y(l);u({ratio:c=p/r,time:p})}else h.startsWith("video:")&&(u({ratio:1}),r=0)}},666:s=>{var w=function(r){var c,y=Object.prototype,h=y.hasOwnProperty,u=typeof Symbol=="function"?Symbol:{},f=u.iterator||"@@iterator",d=u.asyncIterator||"@@asyncIterator",l=u.toStringTag||"@@toStringTag";function p(e,t,o){return Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch{p=function(t,o,g){return t[o]=g}}function j(e,t,o,g){var a=t&&t.prototype instanceof Y?t:Y,A=Object.create(a.prototype),R=new M(g||[]);return A._invoke=function(W,q,L){var I=F;return function(z,C){if(I===_)throw new Error("Generator is already running");if(I===O){if(z==="throw")throw C;return $()}for(L.method=z,L.arg=C;;){var D=L.delegate;if(D){var S=x(D,L);if(S){if(S===m)continue;return S}}if(L.method==="next")L.sent=L._sent=L.arg;else if(L.method==="throw"){if(I===F)throw I=O,L.arg;L.dispatchException(L.arg)}else L.method==="return"&&L.abrupt("return",L.arg);I=_;var U=n(W,q,L);if(U.type==="normal"){if(I=L.done?O:b,U.arg===m)continue;return{value:U.arg,done:L.done}}U.type==="throw"&&(I=O,L.method="throw",L.arg=U.arg)}}}(e,o,R),A}function n(e,t,o){try{return{type:"normal",arg:e.call(t,o)}}catch(g){return{type:"throw",arg:g}}}r.wrap=j;var F="suspendedStart",b="suspendedYield",_="executing",O="completed",m={};function Y(){}function N(){}function G(){}var tt={};tt[f]=function(){return this};var et=Object.getPrototypeOf,X=et&&et(et(k([])));X&&X!==y&&h.call(X,f)&&(tt=X);var J=G.prototype=Y.prototype=Object.create(tt);function v(e){["next","throw","return"].forEach(function(t){p(e,t,function(o){return this._invoke(t,o)})})}function i(e,t){function o(a,A,R,W){var q=n(e[a],e,A);if(q.type!=="throw"){var L=q.arg,I=L.value;return I&&typeof I=="object"&&h.call(I,"__await")?t.resolve(I.__await).then(function(z){o("next",z,R,W)},function(z){o("throw",z,R,W)}):t.resolve(I).then(function(z){L.value=z,R(L)},function(z){return o("throw",z,R,W)})}W(q.arg)}var g;this._invoke=function(a,A){function R(){return new t(function(W,q){o(a,A,W,q)})}return g=g?g.then(R,R):R()}}function x(e,t){var o=e.iterator[t.method];if(o===c){if(t.delegate=null,t.method==="throw"){if(e.iterator.return&&(t.method="return",t.arg=c,x(e,t),t.method==="throw"))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var g=n(o,e.iterator,t.arg);if(g.type==="throw")return t.method="throw",t.arg=g.arg,t.delegate=null,m;var a=g.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,t.method!=="return"&&(t.method="next",t.arg=c),t.delegate=null,m):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function B(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[f];if(t)return t.call(e);if(typeof e.next=="function")return e;if(!isNaN(e.length)){var o=-1,g=function a(){for(;++o<e.length;)if(h.call(e,o))return a.value=e[o],a.done=!1,a;return a.value=c,a.done=!0,a};return g.next=g}}return{next:$}}function $(){return{value:c,done:!0}}return N.prototype=J.constructor=G,G.constructor=N,N.displayName=p(G,l,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t=typeof e=="function"&&e.constructor;return!!t&&(t===N||(t.displayName||t.name)==="GeneratorFunction")},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,G):(e.__proto__=G,p(e,l,"GeneratorFunction")),e.prototype=Object.create(J),e},r.awrap=function(e){return{__await:e}},v(i.prototype),i.prototype[d]=function(){return this},r.AsyncIterator=i,r.async=function(e,t,o,g,a){a===void 0&&(a=Promise);var A=new i(j(e,t,o,g),a);return r.isGeneratorFunction(t)?A:A.next().then(function(R){return R.done?R.value:A.next()})},v(J),p(J,l,"Generator"),J[f]=function(){return this},J.toString=function(){return"[object Generator]"},r.keys=function(e){var t=[];for(var o in e)t.push(o);return t.reverse(),function g(){for(;t.length;){var a=t.pop();if(a in e)return g.value=a,g.done=!1,g}return g.done=!0,g}},r.values=k,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(B),!e)for(var t in this)t.charAt(0)==="t"&&h.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=c)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(e.type==="throw")throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(q,L){return A.type="throw",A.arg=e,t.next=q,L&&(t.method="next",t.arg=c),!!L}for(var g=this.tryEntries.length-1;g>=0;--g){var a=this.tryEntries[g],A=a.completion;if(a.tryLoc==="root")return o("end");if(a.tryLoc<=this.prev){var R=h.call(a,"catchLoc"),W=h.call(a,"finallyLoc");if(R&&W){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(R){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!W)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var g=this.tryEntries[o];if(g.tryLoc<=this.prev&&h.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var a=g;break}}a&&(e==="break"||e==="continue")&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var A=a?a.completion:{};return A.type=e,A.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(A)},complete:function(e,t){if(e.type==="throw")throw e.arg;return e.type==="break"||e.type==="continue"?this.next=e.arg:e.type==="return"?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):e.type==="normal"&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),B(o),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc===e){var g=o.completion;if(g.type==="throw"){var a=g.arg;B(o)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,o){return this.delegate={iterator:k(e),resultName:t,nextLoc:o},this.method==="next"&&(this.arg=c),m}},r}(s.exports);try{regeneratorRuntime=w}catch{Function("r","regeneratorRuntime = r")(w)}},72:function(s,w,r){var c,y;(y=typeof(c=function(){return function(){var h=arguments.length;if(h===0)throw new Error("resolveUrl requires at least one argument; got none.");var u=document.createElement("base");if(u.href=arguments[0],h===1)return u.href;var f=document.getElementsByTagName("head")[0];f.insertBefore(u,f.firstChild);for(var d,l=document.createElement("a"),p=1;p<h;p++)l.href=arguments[p],d=l.href,u.href=d;return f.removeChild(u),d}})=="function"?c.call(w,r,w,s):c)===void 0||(s.exports=y)},306:s=>{s.exports=JSON.parse('{"name":"@ffmpeg/ffmpeg","version":"0.10.1","description":"FFmpeg WebAssembly version","main":"src/index.js","types":"src/index.d.ts","directories":{"example":"examples"},"scripts":{"start":"node scripts/server.js","build":"rimraf dist && webpack --config scripts/webpack.config.prod.js","prepublishOnly":"npm run build","lint":"eslint src","wait":"rimraf dist && wait-on http://localhost:3000/dist/ffmpeg.dev.js","test":"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:ffmpeg test:node:all","test:node":"node --experimental-wasm-threads --experimental-wasm-bulk-memory node_modules/.bin/_mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser":"mocha-headless-chrome -a allow-file-access-from-files -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:ffmpeg":"npm run test:browser -- -f ./tests/ffmpeg.test.html"},"browser":{"./src/node/index.js":"./src/browser/index.js"},"repository":{"type":"git","url":"git+https://github.com/ffmpegwasm/ffmpeg.wasm.git"},"keywords":["ffmpeg","WebAssembly","video"],"author":"Jerome Wu <jeromewus@gmail.com>","license":"MIT","bugs":{"url":"https://github.com/ffmpegwasm/ffmpeg.wasm/issues"},"engines":{"node":">=12.16.1"},"homepage":"https://github.com/ffmpegwasm/ffmpeg.wasm#readme","dependencies":{"is-url":"^1.2.4","node-fetch":"^2.6.1","regenerator-runtime":"^0.13.7","resolve-url":"^0.2.1"},"devDependencies":{"@babel/core":"^7.12.3","@babel/preset-env":"^7.12.1","@ffmpeg/core":"^0.10.0","@types/emscripten":"^1.39.4","babel-loader":"^8.1.0","chai":"^4.2.0","cors":"^2.8.5","eslint":"^7.12.1","eslint-config-airbnb-base":"^14.1.0","eslint-plugin-import":"^2.22.1","express":"^4.17.1","mocha":"^8.2.1","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","wait-on":"^5.3.0","webpack":"^5.3.2","webpack-cli":"^4.1.0","webpack-dev-middleware":"^4.0.0"}}')}},P={},function s(w){if(P[w])return P[w].exports;var r=P[w]={exports:{}};return T[w].call(r.exports,r,r.exports,s),r.exports}(352);var T,P});const{createFFmpeg:bt,fetchFile:xt}=window.FFmpeg,Ft=ut({props:{url:String},setup(T){const P=st([]),s=st(0),w=9,r="video",c=ht(()=>s.value/w),y=bt({log:!1,corePath:"./FFmpeg/ffmpeg-core.js"});y.setProgress(f=>{f.duration&&(s.value=f.duration)}),(async f=>{y.isLoaded()||await y.load(),y.FS("writeFile",r,await xt(f)),await h(0,w)})(T.url);async function h(f,d){const l=await u(f);if(P.value.push(it({},l)),f++,f>=d)return!1;setTimeout(()=>{h(f,d)},100)}async function u(f){const d=`${r}-poster-${f}.jpg`;await y.run("-ss",`${Math.floor(c.value*f)}`,"-i",r,"-frames","1","-to","10",d);const l=await y.FS("readFile",d),p=new Blob([l.buffer],{type:"jpg"}),j=new window.File([p],d,{type:"jpg"}),n=URL.createObjectURL(p);return{index:f,file:j,url:n}}return{dataList:P}}}),Et={class:"list"},jt=["src"];function _t(T,P,s,w,r,c){return rt(),nt("div",Et,[(rt(!0),nt(gt,null,dt(T.dataList,(y,h)=>(rt(),nt("div",{class:"list-item",key:h},[yt("img",{src:y.url,alt:""},null,8,jt)]))),128))])}var Ot=ct(Ft,[["render",_t],["__scopeId","data-v-029ad6a8"]]);const Lt=ut({name:"ffmpeg",components:{CreatePosterList:Ot}});function Pt(T,P,s,w,r,c){const y=vt("CreatePosterList");return rt(),wt(y,{url:"https://video.591.com.tw/debug/source/house/2022-02-24/5529.mp4"})}var At=ct(Lt,[["render",Pt]]);export{At as default};
