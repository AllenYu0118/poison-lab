var me=Object.defineProperty;var ie=Object.getOwnPropertySymbols;var he=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable;var se=(E,F,s)=>F in E?me(E,F,{enumerable:!0,configurable:!0,writable:!0,value:s}):E[F]=s,ce=(E,F)=>{for(var s in F||(F={}))he.call(F,s)&&se(E,s,F[s]);if(ie)for(var s of ie(F))de.call(F,s)&&se(E,s,F[s]);return E};import{h as ue,n as ae,C as ge,w as ve,o as ne,g as oe,F as fe,k as ye,j as re,r as we,l as be,v as xe,i as Fe,D as Ee,E as je}from"./vendor.4e7decc7.js";import{_ as le}from"./index.a2ce7722.js";(function(E,F){typeof exports=="object"&&typeof module=="object"?module.exports=F():typeof define=="function"&&define.amd?define([],F):typeof exports=="object"?exports.FFmpeg=F():E.FFmpeg=F()})(self,function(){return E={497:(s,v,r)=>{r(72);var u=r(306).devDependencies;s.exports={corePath:"https://unpkg.com/@ffmpeg/core@".concat(u["@ffmpeg/core"].substring(1),"/dist/ffmpeg-core.js")}},663:(s,v,r)=>{function u(p,_,c,l,m,O,n){try{var y=p[O](n),b=y.value}catch(L){return void c(L)}y.done?_(b):Promise.resolve(b).then(l,m)}var g=r(72),f=function(p){return new Promise(function(_,c){var l=new FileReader;l.onload=function(){_(l.result)},l.onerror=function(m){var O=m.target.error.code;c(Error("File could not be read! Code=".concat(O)))},l.readAsArrayBuffer(p)})};s.exports=function(){var p,_=(p=regeneratorRuntime.mark(function c(l){var m,O;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(m=l,l!==void 0){n.next=3;break}return n.abrupt("return",new Uint8Array);case 3:if(typeof l!="string"){n.next=16;break}if(!/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(l)){n.next=8;break}m=atob(l.split(",")[1]).split("").map(function(y){return y.charCodeAt(0)}),n.next=14;break;case 8:return n.next=10,fetch(g(l));case 10:return O=n.sent,n.next=13,O.arrayBuffer();case 13:m=n.sent;case 14:n.next=20;break;case 16:if(!(l instanceof File||l instanceof Blob)){n.next=20;break}return n.next=19,f(l);case 19:m=n.sent;case 20:return n.abrupt("return",new Uint8Array(m));case 21:case"end":return n.stop()}},c)}),function(){var c=this,l=arguments;return new Promise(function(m,O){var n=p.apply(c,l);function y(L){u(n,m,O,y,b,"next",L)}function b(L){u(n,m,O,y,b,"throw",L)}y(void 0)})});return function(c){return _.apply(this,arguments)}}()},452:(s,v,r)=>{function u(l,m,O,n,y,b,L){try{var P=l[b](L),h=P.value}catch(V){return void O(V)}P.done?m(h):Promise.resolve(h).then(n,y)}function g(l){return function(){var m=this,O=arguments;return new Promise(function(n,y){var b=l.apply(m,O);function L(h){u(b,n,y,L,P,"next",h)}function P(h){u(b,n,y,L,P,"throw",h)}L(void 0)})}}var f=r(72),p=r(185).log,_=r(835).CREATE_FFMPEG_CORE_IS_NOT_DEFINED,c=function(){var l=g(regeneratorRuntime.mark(function m(O,n){var y,b,L;return regeneratorRuntime.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return p("info","fetch ".concat(O)),P.next=3,fetch(O);case 3:return P.next=5,P.sent.arrayBuffer();case 5:return y=P.sent,p("info","".concat(O," file size = ").concat(y.byteLength," bytes")),b=new Blob([y],{type:n}),L=URL.createObjectURL(b),p("info","".concat(O," blob URL = ").concat(L)),P.abrupt("return",L);case 11:case"end":return P.stop()}},m)}));return function(m,O){return l.apply(this,arguments)}}();s.exports=function(){var l=g(regeneratorRuntime.mark(function m(O){var n,y,b,L,P;return regeneratorRuntime.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(typeof(n=O.corePath)=="string"){h.next=3;break}throw Error("corePath should be a string!");case 3:return y=f(n),h.next=6,c(y,"application/javascript");case 6:return b=h.sent,h.next=9,c(y.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm");case 9:return L=h.sent,h.next=12,c(y.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");case 12:if(P=h.sent,typeof createFFmpegCore!="undefined"){h.next=15;break}return h.abrupt("return",new Promise(function(V){var N=document.createElement("script");N.src=b,N.type="text/javascript",N.addEventListener("load",function G(){if(N.removeEventListener("load",G),typeof createFFmpegCore=="undefined")throw Error(_(y));p("info","ffmpeg-core.js script loaded"),V({createFFmpegCore,corePath:b,wasmPath:L,workerPath:P})}),document.getElementsByTagName("head")[0].appendChild(N)}));case 15:return p("info","ffmpeg-core.js script is loaded already"),h.abrupt("return",Promise.resolve({createFFmpegCore,corePath:b,wasmPath:L,workerPath:P}));case 17:case"end":return h.stop()}},m)}));return function(m){return l.apply(this,arguments)}}()},698:(s,v,r)=>{var u=r(497),g=r(452),f=r(663);s.exports={defaultOptions:u,getCreateFFmpegCore:g,fetchFile:f}},500:s=>{s.exports={defaultArgs:["./ffmpeg","-nostdin","-y"],baseOptions:{log:!1,logger:function(){},progress:function(){},corePath:""}}},906:(s,v,r)=>{function u(w){return function(i){if(Array.isArray(i))return g(i)}(w)||function(i){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(i))return Array.from(i)}(w)||function(i,x){if(i){if(typeof i=="string")return g(i,x);var j=Object.prototype.toString.call(i).slice(8,-1);return j==="Object"&&i.constructor&&(j=i.constructor.name),j==="Map"||j==="Set"?Array.from(i):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?g(i,x):void 0}}(w)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function g(w,i){(i==null||i>w.length)&&(i=w.length);for(var x=0,j=new Array(i);x<i;x++)j[x]=w[x];return j}function f(w,i,x,j,I,M,S){try{var $=w[M](S),t=$.value}catch(e){return void x(e)}$.done?i(t):Promise.resolve(t).then(j,I)}function p(w){return function(){var i=this,x=arguments;return new Promise(function(j,I){var M=w.apply(i,x);function S(t){f(M,j,I,S,$,"next",t)}function $(t){f(M,j,I,S,$,"throw",t)}S(void 0)})}}function _(w,i){var x=Object.keys(w);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(w);i&&(j=j.filter(function(I){return Object.getOwnPropertyDescriptor(w,I).enumerable})),x.push.apply(x,j)}return x}function c(w){for(var i=1;i<arguments.length;i++){var x=arguments[i]!=null?arguments[i]:{};i%2?_(Object(x),!0).forEach(function(j){l(w,j,x[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(x)):_(Object(x)).forEach(function(j){Object.defineProperty(w,j,Object.getOwnPropertyDescriptor(x,j))})}return w}function l(w,i,x){return i in w?Object.defineProperty(w,i,{value:x,enumerable:!0,configurable:!0,writable:!0}):w[i]=x,w}function m(w,i){if(w==null)return{};var x,j,I=function(S,$){if(S==null)return{};var t,e,o={},d=Object.keys(S);for(e=0;e<d.length;e++)t=d[e],$.indexOf(t)>=0||(o[t]=S[t]);return o}(w,i);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(w);for(j=0;j<M.length;j++)x=M[j],i.indexOf(x)>=0||Object.prototype.propertyIsEnumerable.call(w,x)&&(I[x]=w[x])}return I}var O=r(500),n=O.defaultArgs,y=O.baseOptions,b=r(185),L=b.setLogging,P=b.setCustomLogger,h=b.log,V=r(583),N=r(319),G=r(698),ee=G.defaultOptions,te=G.getCreateFFmpegCore,X=r(306).version,q=Error("ffmpeg.wasm is not ready, make sure you have completed load().");s.exports=function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=c(c(c({},y),ee),w),x=i.log,j=i.logger,I=i.progress,M=m(i,["log","logger","progress"]),S=null,$=null,t=null,e=!1,o=I,d=function(A){A==="FFMPEG_END"&&t!==null&&(t(),t=null,e=!1)},a=function(A){var D=A.type,C=A.message;h(D,C),V(C,o),d(C)},R=function(){var A=p(regeneratorRuntime.mark(function D(){var C,U,K,Z,H;return regeneratorRuntime.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(h("info","load ffmpeg-core"),S!==null){J.next=17;break}return h("info","loading ffmpeg-core"),J.next=5,te(M);case 5:return C=J.sent,U=C.createFFmpegCore,K=C.corePath,Z=C.workerPath,H=C.wasmPath,J.next=12,U({mainScriptUrlOrBlob:K,printErr:function(Q){return a({type:"fferr",message:Q})},print:function(Q){return a({type:"ffout",message:Q})},locateFile:function(Q,pe){if(typeof window!="undefined"){if(H!==void 0&&Q.endsWith("ffmpeg-core.wasm"))return H;if(Z!==void 0&&Q.endsWith("ffmpeg-core.worker.js"))return Z}return pe+Q}});case 12:S=J.sent,$=S.cwrap("main","number",["number","number"]),h("info","ffmpeg-core loaded"),J.next=18;break;case 17:throw Error("ffmpeg.wasm was loaded, you should not load it again, use ffmpeg.isLoaded() to check next time.");case 18:case"end":return J.stop()}},D)}));return function(){return A.apply(this,arguments)}}(),T=function(){return S!==null},W=function(){for(var A=arguments.length,D=new Array(A),C=0;C<A;C++)D[C]=arguments[C];if(h("info","run ffmpeg command: ".concat(D.join(" "))),S===null)throw q;if(e)throw Error("ffmpeg.wasm can only run one command at a time");return e=!0,new Promise(function(U){var K=[].concat(u(n),D).filter(function(Z){return Z.length!==0});t=U,$.apply(void 0,u(N(S,K)))})},z=function(A){for(var D=arguments.length,C=new Array(D>1?D-1:0),U=1;U<D;U++)C[U-1]=arguments[U];if(h("info","run FS.".concat(A," ").concat(C.map(function(H){return typeof H=="string"?H:"<".concat(H.length," bytes binary file>")}).join(" "))),S===null)throw q;var K=null;try{var Z;K=(Z=S.FS)[A].apply(Z,C)}catch{throw Error(A==="readdir"?"ffmpeg.FS('readdir', '".concat(C[0],"') error. Check if the path exists, ex: ffmpeg.FS('readdir', '/')"):A==="readFile"?"ffmpeg.FS('readFile', '".concat(C[0],"') error. Check if the path exists"):"Oops, something went wrong in FS operation.")}return K},k=function(){if(S===null)throw q;e=!1,S.exit(1),S=null,$=null,t=null},B=function(A){o=A},Y=function(A){P(A)};return L(x),P(j),h("info","use ffmpeg.wasm v".concat(X)),{setProgress:B,setLogger:Y,setLogging:L,load:R,isLoaded:T,run:W,exit:k,FS:z}}},352:(s,v,r)=>{r(666);var u=r(906),g=r(698).fetchFile;s.exports={createFFmpeg:u,fetchFile:g}},835:s=>{s.exports={CREATE_FFMPEG_CORE_IS_NOT_DEFINED:function(v){return`
createFFmpegCore is not defined. ffmpeg.wasm is unable to find createFFmpegCore after loading ffmpeg-core.js from `.concat(v,`. Use another URL when calling createFFmpeg():

const ffmpeg = createFFmpeg({
  corePath: 'http://localhost:3000/ffmpeg-core.js',
});
`)}}},185:s=>{var v=!1,r=function(){};s.exports={logging:v,setLogging:function(u){v=u},setCustomLogger:function(u){r=u},log:function(u,g){r({type:u,message:g}),v&&console.log("[".concat(u,"] ").concat(g))}}},319:s=>{s.exports=function(v,r){var u=v._malloc(r.length*Uint32Array.BYTES_PER_ELEMENT);return r.forEach(function(g,f){var p=v._malloc(g.length+1);v.writeAsciiToMemory(g,p),v.setValue(u+Uint32Array.BYTES_PER_ELEMENT*f,p,"i32")}),[r.length,u]}},583:s=>{function v(f,p){(p==null||p>f.length)&&(p=f.length);for(var _=0,c=new Array(p);_<p;_++)c[_]=f[_];return c}var r=0,u=0,g=function(f){var p,_,c=(p=f.split(":"),_=3,function(n){if(Array.isArray(n))return n}(p)||function(n,y){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(n)){var b=[],L=!0,P=!1,h=void 0;try{for(var V,N=n[Symbol.iterator]();!(L=(V=N.next()).done)&&(b.push(V.value),!y||b.length!==y);L=!0);}catch(G){P=!0,h=G}finally{try{L||N.return==null||N.return()}finally{if(P)throw h}}return b}}(p,_)||function(n,y){if(n){if(typeof n=="string")return v(n,y);var b=Object.prototype.toString.call(n).slice(8,-1);return b==="Object"&&n.constructor&&(b=n.constructor.name),b==="Map"||b==="Set"?Array.from(n):b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?v(n,y):void 0}}(p,_)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),l=c[0],m=c[1],O=c[2];return 60*parseFloat(l)*60+60*parseFloat(m)+parseFloat(O)};s.exports=function(f,p){if(typeof f=="string")if(f.startsWith("  Duration")){var _=f.split(", ")[0].split(": ")[1],c=g(_);p({duration:c,ratio:u}),(r===0||r>c)&&(r=c)}else if(f.startsWith("frame")||f.startsWith("size")){var l=f.split("time=")[1].split(" ")[0],m=g(l);p({ratio:u=m/r,time:m})}else f.startsWith("video:")&&(p({ratio:1}),r=0)}},666:s=>{var v=function(r){var u,g=Object.prototype,f=g.hasOwnProperty,p=typeof Symbol=="function"?Symbol:{},_=p.iterator||"@@iterator",c=p.asyncIterator||"@@asyncIterator",l=p.toStringTag||"@@toStringTag";function m(t,e,o){return Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{m({},"")}catch{m=function(e,o,d){return e[o]=d}}function O(t,e,o,d){var a=e&&e.prototype instanceof V?e:V,R=Object.create(a.prototype),T=new M(d||[]);return R._invoke=function(W,z,k){var B=y;return function(Y,A){if(B===L)throw new Error("Generator is already running");if(B===P){if(Y==="throw")throw A;return $()}for(k.method=Y,k.arg=A;;){var D=k.delegate;if(D){var C=x(D,k);if(C){if(C===h)continue;return C}}if(k.method==="next")k.sent=k._sent=k.arg;else if(k.method==="throw"){if(B===y)throw B=P,k.arg;k.dispatchException(k.arg)}else k.method==="return"&&k.abrupt("return",k.arg);B=L;var U=n(W,z,k);if(U.type==="normal"){if(B=k.done?P:b,U.arg===h)continue;return{value:U.arg,done:k.done}}U.type==="throw"&&(B=P,k.method="throw",k.arg=U.arg)}}}(t,o,T),R}function n(t,e,o){try{return{type:"normal",arg:t.call(e,o)}}catch(d){return{type:"throw",arg:d}}}r.wrap=O;var y="suspendedStart",b="suspendedYield",L="executing",P="completed",h={};function V(){}function N(){}function G(){}var ee={};ee[_]=function(){return this};var te=Object.getPrototypeOf,X=te&&te(te(S([])));X&&X!==g&&f.call(X,_)&&(ee=X);var q=G.prototype=V.prototype=Object.create(ee);function w(t){["next","throw","return"].forEach(function(e){m(t,e,function(o){return this._invoke(e,o)})})}function i(t,e){function o(a,R,T,W){var z=n(t[a],t,R);if(z.type!=="throw"){var k=z.arg,B=k.value;return B&&typeof B=="object"&&f.call(B,"__await")?e.resolve(B.__await).then(function(Y){o("next",Y,T,W)},function(Y){o("throw",Y,T,W)}):e.resolve(B).then(function(Y){k.value=Y,T(k)},function(Y){return o("throw",Y,T,W)})}W(z.arg)}var d;this._invoke=function(a,R){function T(){return new e(function(W,z){o(a,R,W,z)})}return d=d?d.then(T,T):T()}}function x(t,e){var o=t.iterator[e.method];if(o===u){if(e.delegate=null,e.method==="throw"){if(t.iterator.return&&(e.method="return",e.arg=u,x(t,e),e.method==="throw"))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var d=n(o,t.iterator,e.arg);if(d.type==="throw")return e.method="throw",e.arg=d.arg,e.delegate=null,h;var a=d.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,e.method!=="return"&&(e.method="next",e.arg=u),e.delegate=null,h):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function S(t){if(t){var e=t[_];if(e)return e.call(t);if(typeof t.next=="function")return t;if(!isNaN(t.length)){var o=-1,d=function a(){for(;++o<t.length;)if(f.call(t,o))return a.value=t[o],a.done=!1,a;return a.value=u,a.done=!0,a};return d.next=d}}return{next:$}}function $(){return{value:u,done:!0}}return N.prototype=q.constructor=G,G.constructor=N,N.displayName=m(G,l,"GeneratorFunction"),r.isGeneratorFunction=function(t){var e=typeof t=="function"&&t.constructor;return!!e&&(e===N||(e.displayName||e.name)==="GeneratorFunction")},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,G):(t.__proto__=G,m(t,l,"GeneratorFunction")),t.prototype=Object.create(q),t},r.awrap=function(t){return{__await:t}},w(i.prototype),i.prototype[c]=function(){return this},r.AsyncIterator=i,r.async=function(t,e,o,d,a){a===void 0&&(a=Promise);var R=new i(O(t,e,o,d),a);return r.isGeneratorFunction(e)?R:R.next().then(function(T){return T.done?T.value:R.next()})},w(q),m(q,l,"Generator"),q[_]=function(){return this},q.toString=function(){return"[object Generator]"},r.keys=function(t){var e=[];for(var o in t)e.push(o);return e.reverse(),function d(){for(;e.length;){var a=e.pop();if(a in t)return d.value=a,d.done=!1,d}return d.done=!0,d}},r.values=S,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(I),!t)for(var e in this)e.charAt(0)==="t"&&f.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=u)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(t.type==="throw")throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(z,k){return R.type="throw",R.arg=t,e.next=z,k&&(e.method="next",e.arg=u),!!k}for(var d=this.tryEntries.length-1;d>=0;--d){var a=this.tryEntries[d],R=a.completion;if(a.tryLoc==="root")return o("end");if(a.tryLoc<=this.prev){var T=f.call(a,"catchLoc"),W=f.call(a,"finallyLoc");if(T&&W){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(T){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!W)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var o=this.tryEntries.length-1;o>=0;--o){var d=this.tryEntries[o];if(d.tryLoc<=this.prev&&f.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var a=d;break}}a&&(t==="break"||t==="continue")&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var R=a?a.completion:{};return R.type=t,R.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(R)},complete:function(t,e){if(t.type==="throw")throw t.arg;return t.type==="break"||t.type==="continue"?this.next=t.arg:t.type==="return"?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):t.type==="normal"&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.finallyLoc===t)return this.complete(o.completion,o.afterLoc),I(o),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc===t){var d=o.completion;if(d.type==="throw"){var a=d.arg;I(o)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,o){return this.delegate={iterator:S(t),resultName:e,nextLoc:o},this.method==="next"&&(this.arg=u),h}},r}(s.exports);try{regeneratorRuntime=v}catch{Function("r","regeneratorRuntime = r")(v)}},72:function(s,v,r){var u,g;(g=typeof(u=function(){return function(){var f=arguments.length;if(f===0)throw new Error("resolveUrl requires at least one argument; got none.");var p=document.createElement("base");if(p.href=arguments[0],f===1)return p.href;var _=document.getElementsByTagName("head")[0];_.insertBefore(p,_.firstChild);for(var c,l=document.createElement("a"),m=1;m<f;m++)l.href=arguments[m],c=l.href,p.href=c;return _.removeChild(p),c}})=="function"?u.call(v,r,v,s):u)===void 0||(s.exports=g)},306:s=>{s.exports=JSON.parse('{"name":"@ffmpeg/ffmpeg","version":"0.10.1","description":"FFmpeg WebAssembly version","main":"src/index.js","types":"src/index.d.ts","directories":{"example":"examples"},"scripts":{"start":"node scripts/server.js","build":"rimraf dist && webpack --config scripts/webpack.config.prod.js","prepublishOnly":"npm run build","lint":"eslint src","wait":"rimraf dist && wait-on http://localhost:3000/dist/ffmpeg.dev.js","test":"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:ffmpeg test:node:all","test:node":"node --experimental-wasm-threads --experimental-wasm-bulk-memory node_modules/.bin/_mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser":"mocha-headless-chrome -a allow-file-access-from-files -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:ffmpeg":"npm run test:browser -- -f ./tests/ffmpeg.test.html"},"browser":{"./src/node/index.js":"./src/browser/index.js"},"repository":{"type":"git","url":"git+https://github.com/ffmpegwasm/ffmpeg.wasm.git"},"keywords":["ffmpeg","WebAssembly","video"],"author":"Jerome Wu <jeromewus@gmail.com>","license":"MIT","bugs":{"url":"https://github.com/ffmpegwasm/ffmpeg.wasm/issues"},"engines":{"node":">=12.16.1"},"homepage":"https://github.com/ffmpegwasm/ffmpeg.wasm#readme","dependencies":{"is-url":"^1.2.4","node-fetch":"^2.6.1","regenerator-runtime":"^0.13.7","resolve-url":"^0.2.1"},"devDependencies":{"@babel/core":"^7.12.3","@babel/preset-env":"^7.12.1","@ffmpeg/core":"^0.10.0","@types/emscripten":"^1.39.4","babel-loader":"^8.1.0","chai":"^4.2.0","cors":"^2.8.5","eslint":"^7.12.1","eslint-config-airbnb-base":"^14.1.0","eslint-plugin-import":"^2.22.1","express":"^4.17.1","mocha":"^8.2.1","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","wait-on":"^5.3.0","webpack":"^5.3.2","webpack-cli":"^4.1.0","webpack-dev-middleware":"^4.0.0"}}')}},F={},function s(v){if(F[v])return F[v].exports;var r=F[v]={exports:{}};return E[v].call(r.exports,r,r.exports,s),r.exports}(352);var E,F});const{createFFmpeg:_e,fetchFile:Oe}=window.FFmpeg,Le=ue({props:{media:[String,File]},setup(E){const F=ae([]),s=ae(0),v=2,r="video",u=ge(()=>s.value/v),g=_e({log:!1,corePath:"./FFmpeg/ffmpeg-core.js"});g.setProgress(c=>{c.duration&&(s.value=c.duration)}),ve(async()=>{await f(E.media)});async function f(c){g.isLoaded()||await g.load(),g.FS("writeFile",r,await Oe(c)),await p(0,v)}async function p(c,l){const m=await _(c);if(F.value.push(ce({},m)),c++,c>=l)return!1;setTimeout(()=>{p(c,l)},100)}async function _(c){const l=`${r}-poster-${c}.jpg`;await g.run("-ss",`${Math.floor(u.value*c)}`,"-i",r,"-frames","1","-to","10",l);const m=await g.FS("readFile",l),O=new Blob([m.buffer],{type:"jpg"}),n=new window.File([O],l,{type:"jpg"}),y=URL.createObjectURL(O);return{index:c,file:n,url:y}}return{dataList:F}}}),Pe={class:"list"},ke=["src"];function Se(E,F,s,v,r,u){return ne(),oe("div",Pe,[(ne(!0),oe(fe,null,ye(E.dataList,(g,f)=>(ne(),oe("div",{class:"list-item",key:f},[re("img",{src:g.url,alt:""},null,8,ke)]))),128))])}var Ce=le(Le,[["render",Se],["__scopeId","data-v-1ac67874"]]);const Ae=ue({name:"ffmpeg",components:{CreatePosterList:Ce},setup(){const E=ae("https://video.591.com.tw/debug/source/house/2022-02-24/5529.mp4"),F=ae(E.value);return{media:E,value:F,fileChange:r=>{E.value=r.target.files[0],console.log("file: ",r.target.files[0])},create:()=>{E.value=F.value}}}}),Re=E=>(Ee("data-v-41f9301b"),E=E(),je(),E),Te=Re(()=>re("br",null,null,-1));function Ne(E,F,s,v,r,u){const g=we("CreatePosterList");return ne(),oe(fe,null,[be(re("input",{type:"text","onUpdate:modelValue":F[0]||(F[0]=f=>E.value=f),"input-default":"",class:"input"},null,512),[[xe,E.value]]),re("button",{"btn-default":"",onClick:F[1]||(F[1]=(...f)=>E.create&&E.create(...f))},"\u751F\u6210\u5C01\u9762\u56FE"),Te,re("input",{type:"file",accept:"video/*",onChange:F[2]||(F[2]=(...f)=>E.fileChange&&E.fileChange(...f))},null,32),Fe(g,{media:E.media},null,8,["media"])],64)}var $e=le(Ae,[["render",Ne],["__scopeId","data-v-41f9301b"]]);export{$e as default};
